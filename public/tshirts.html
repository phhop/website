<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>phhop</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.4.2/css/all.css">
</head>

<body class="dark:bg-black dark:text-white relative">


    <!-- header starts here  -->
    <header class="h-auto sticky top-0 z-50 ">
        <nav
        class="border-gray-200 px-4 lg:px-6 py-3 bg-white dark:bg-black relative"
      >
        <div
          class="lg:grid grid-cols-7 place-content-center lg:mx-auto lg:px-10"
        >
          <div
            class="hidden col-span-3 justify-between items-center w-full lg:flex lg:w-auto"
            id=""
          >
            <ul class="flex flex-row flex-wrap gap-2">
              <li id="homes">
                <a
                  href="index.html"
                  class="block py-2 px-3 text-base font-medium hover:bg-gray-100 dark:hover:bg-gray-700 duration-300 rounded-md"
                  >Home</a
                >
              </li>
              <li id="tops">
                <a
                  href="tops.html"
                  class="block py-2 px-3 text-base font-medium hover:bg-gray-100 dark:hover:bg-gray-700 duration-300 rounded-md"
                  >Tops</a
                >
              </li>
              <li id="bottoms">
                <a
                  href="bottoms.html"
                  class="block py-2 px-3 text-base font-medium hover:bg-gray-100 dark:hover:bg-gray-700 duration-300 rounded-md"
                  >Bottoms</a
                >
              </li>
              <li id="accessories">
                <a
                  href="accessories.html"
                  class="block py-2 px-3 text-base font-medium hover:bg-gray-100 dark:hover:bg-gray-700 duration-300 rounded-md"
                  >Accessories</a
                >
              </li>
              <li id="shoes">
                <a
                  href="shoes.html"
                  class="block py-2 px-3 text-base font-medium hover:bg-gray-100 dark:hover:bg-gray-700 duration-300 rounded-md"
                  >Shoes</a
                >
              </li>
            </ul>
          </div>

                  <!-- website name / image -->
        <div class="flex items-center justify-between lg:mx-auto">
          <a href="#" class="p-2 text-xl lg:hidden">
            <i class="fa-light fa-face-awesome"></i>
          </a>
          <a href="index.html" class="flex items-center w-fit">
            <!-- <img src="https://flowbite.com/docs/images/logo.svg" class="mr-3 h-6 sm:h-9" alt="Flowbite Logo" /> -->
            <span class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">PHHOP SUPPLY</span>
          </a>
          <button type="button" class="p-2 text-xl lg:hidden" id="menu-button">
            <i class="fa-light fa-message-smile"></i>
          </button>
        </div>

        <!-- social media icons -->
        <div class="col-span-3 hidden lg:flex items-center justify-end space-x-4">
          <!-- instagram  -->
          <div>
            <a href="https://www.instagram.com/phhopsupply/?igshid=MzMyNGUyNmU2YQ%3D%3D"
              class="relative flex h-10 w-10 text-2xl items-center justify-center rounded-full border-[.5px] border-[#e7e7e7] bg-[#f4f7ff] dark:text-black">
              <i class="fa-brands fa-instagram"></i>
            </a>
          </div>

          <!-- tiktok  -->
          <div>
            <a href="https://www.tiktok.com/@phhopsupply?_t=8gv6UarQ4Qh&_r=1"
              class="relative flex h-10 w-10 text-xl items-center justify-center rounded-full border-[.5px] border-[#e7e7e7] bg-[#f4f7ff] dark:text-black">
              <i class="fa-brands fa-tiktok"></i>
            </a>
          </div>

          <!--  whatsapp -->
          <div>
            <a href="https://wa.me/9702693095?text=Hello%20there!"
              class="relative flex h-10 w-10 text-xl items-center justify-center rounded-full border-[.5px] border-[#e7e7e7] bg-[#f4f7ff] dark:text-black">
              <i class="fa-brands fa-whatsapp"></i>
            </a>
          </div>

          <!--  viber -->
          <div>
            <a href="viber://add?number=9702693095"
              class="relative flex h-10 w-10 text-xl items-center justify-center rounded-full border-[.5px] border-[#e7e7e7] bg-[#f4f7ff] dark:text-black">
              <i class="fa-brands fa-viber"></i>
            </a>
          </div>
        </div>

          <!-- Dropdown menu, initially hidden -->
          <div
          class="absolute right-0 z-10 mt-2 mr-3 origin-top-right rounded-md bg-white dark:bg-gray-900 shadow-lg hidden">
          <div class="p-1">
              <a href="https://www.instagram.com/phhopsupply/?igshid=MzMyNGUyNmU2YQ%3D%3D"
                class="block px-4 py-2 whitespace-nowrap space-x-3"><span><i
                    class="fa-brands fa-instagram"></i></span><span>Instagram</span></a>
              <a href="https://www.tiktok.com/@phhopsupply?_t=8gv6UarQ4Qh&_r=1"
                class="block px-4 py-2 whitespace-nowrap space-x-3">
                <span><i class="fa-brands fa-tiktok"></i></span><span>TikTok</span></a>
              <a href="https://wa.me/9702693095?text=Hello%20there!"
                class="block px-4 py-2 whitespace-nowrap space-x-3">
                <span><i class="fa-brands fa-whatsapp"></i></span><span>Whatsapp</span></a>
              <a href="viber://add?number=9779702693095" class="block px-4 py-2 whitespace-nowrap space-x-3"><span><i
                    class="fa-brands fa-viber"></i></span><span>Viber</span></a>
            </div>
          </div>
        </div>

          <script>
            document.addEventListener("DOMContentLoaded", function () {
              // Get references to the button and the dropdown menu
              const menuButton = document.getElementById("menu-button");
              const dropdownMenu = document.querySelector(".absolute.right-0");

              // Function to toggle the dropdown menu's visibility
              function toggleDropdown() {
                dropdownMenu.classList.toggle("hidden");
              }

              // Add a click event listener to the button
              menuButton.addEventListener("click", toggleDropdown);

              // Add a click event listener to close the dropdown when clicking outside of it
              document.addEventListener("click", function (event) {
                if (
                  !menuButton.contains(event.target) &&
                  !dropdownMenu.contains(event.target)
                ) {
                  dropdownMenu.classList.add("hidden");
                }
              });
            });
          </script>
        </div>
      </nav>
    </header>
    <!-- header ends here -->

    <!-- tops category -->
    <div
    class="fixed z-40 w-full px-4 lg:px-16 lg:mx-auto text-lg font-semibold flex items-center gap-3 bg-white dark:bg-black ">

    <ul class="flex items-center flex-wrap gap-2 border-b-2 border-gray-100 dark:border-gray-900 w-full">
        <p class="hidden lg:block">Tops&nbsp;Category&nbsp;:</p>
        <li id="all-tops">
            <a href="tops.html"
                class="block py-2 px-3 text-base font-medium hover:bg-gray-100 dark:hover:bg-gray-700 duration-300 rounded-md">All</a>
        </li>
        <li id="t-shirts">
            <a href="tshirts.html"
                class="block py-2 px-3 text-base font-medium hover:bg-gray-100 dark:hover:bg-gray-700 duration-300 rounded-md">T-Shirts</a>
        </li>
        <li id="sweaters">
            <a href="sweaters.html"
                class="block py-2 px-3 text-base font-medium hover:bg-gray-100 dark:hover:bg-gray-700 duration-300 rounded-md">Sweaters</a>
        </li>
        <li id="hoodies">
            <a href="hoodies.html"
                class="block py-2 px-3 text-base font-medium hover:bg-gray-100 dark:hover:bg-gray-700 duration-300 rounded-md">Hoodies</a>
        </li>
        <li id="jackets">
            <a href="jackets.html"
                class="block py-2 px-3 text-base font-medium hover:bg-gray-100 dark:hover:bg-gray-700 duration-300 rounded-md">Jackets</a>
        </li>
    </ul>
</div>
    <!-- tops category end -->

    <!-- main starts here -->
    <main class="w-full px-4 py-8 mb-12 mt-20 lg:mt-10 lg:mb-0 lg:px-16 lg:mx-auto">
        <div id="container"
            class="grid grid-cols-2 gap-x-4 gap-y-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 xl:gap-x-8"></div>
        <!-- This is where the fetched data will be displayed -->
    </main>
    <!-- main ends here -->


    <!-- this is for mobile navigation -->
    <nav
    class="lg:hidden fixed bottom-0 sm:bottom-4 left-1/2 z-50 w-full h-16 -translate-x-1/2 sm:max-w-lg bg-white dark:bg-black sm:rounded-full border-t-2 sm:border border-gray-200 dark:border-gray-900">
    <!-- bottom navigation -->
    <div class="py-2 px-4 sm:px-6 text-xs w-full h-full sm:max-w-lg dark:text-white">
      <div class="grid grid-cols-5 gap-3">
        <div id="home">
          <a href="index.html" class="flex flex-col justify-between items-center focus:outline-none">
            <span class="text-xl"><i class="fa-light fa-house"></i></span>
            <span>Home</span>
          </a>
        </div>
        <div id="all-top">
          <a href="tops.html" class="flex flex-col justify-between items-center focus:outline-none">
            <span class="text-xl"><i class="fa-light fa-shirt"></i></span>
            <span>Tops</span>
          </a>
        </div>

        <div id="all-bottom">
          <a href="bottoms.html" class="flex flex-col gap-1 mt-0.5 justify-between items-center focus:outline-none">
            <svg fill="currentColor" height="22" width="24" version="1.1" id="Layer_1"
              xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
              viewBox="0 0 512.007 512.007" xml:space="preserve">
              <g id="SVGRepo_bgCarrier" stroke-width="1"></g>
              <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
              <g id="SVGRepo_iconCarrier">
                <g>
                  <g>
                    <path
                      d="M511.9,478.51l-64-448c-0.747-5.227-5.227-9.173-10.56-9.173H74.673c-5.333,0-9.813,3.947-10.56,9.173l-64,448 c-0.853,5.867,3.2,11.2,9.067,12.053c0.533,0.107,0.96,0.107,1.493,0.107h202.88c5.013,0,9.387-3.52,10.453-8.427l32-149.12 l32,149.12c1.067,4.907,5.44,8.427,10.453,8.427h202.88c5.867,0,10.667-4.8,10.667-10.667 C512.007,479.47,512.007,478.937,511.9,478.51z M428.06,42.67l13.44,93.867c-52.8-35.947-75.84-74.347-84.693-93.867H428.06z M83.953,42.67h71.253c-8.96,19.627-31.893,57.92-84.693,93.867L83.953,42.67z M307.1,469.336L307.1,469.336L276.38,326.51 c-0.107-0.533-0.32-1.067-0.427-1.6c-4.16-10.987-16.533-16.533-27.52-12.267c-5.653,2.133-10.133,6.613-12.267,12.267 c-0.213,0.533-0.32,1.067-0.427,1.6l-30.827,142.827H22.94l43.52-304.853c77.973-47.147,104.427-101.547,112-121.813h66.88 v170.667c0,5.867,4.8,10.667,10.667,10.667c5.867,0,10.667-4.8,10.667-10.667V42.67h66.88 c7.467,20.267,34.027,74.667,111.893,121.813l43.627,304.853H307.1z">
                    </path>
                  </g>
                </g>
              </g>
            </svg>
            <style>
              /* Define the fill color for the light mode */
              .theme-icon {
                fill: #000; /* Set your light mode color here */
              }
            
              /* Media query for dark mode */
              @media (prefers-color-scheme: dark) {
                .theme-icon {
                  fill: #FFF; /* Set your dark mode color here */
                }
              }
            </style>
            <span>Bottoms</span>
          </a>
        </div>
        <div id="accessorie">
          <a href="accessories.html" class="flex flex-col justify-between items-center focus:outline-none">
            <span class="text-xl"><i class="fa-light fa-mitten"></i></span>

            <span>Accessories</span>
          </a>
        </div>

        <div id="shoe">
          <a href="shoes.html" class="flex flex-col justify-between items-center focus:outline-none">
            <span class="text-xl"><i class="fa-light fa-boot"></i></span>
            <span>Shoes</span>
          </a>
        </div>
      </div>
    </div>
    <!-- bottom navigation end -->
  </nav>
    <!-- this is for mobile navigation ends here -->

    <!-- script to make the current page active in the header (Home) -->
    <script>
        document.getElementById("tops").classList.add("border-b-2", "border-black", "dark:border-white", "bg-gray-100", "dark:bg-gray-700");//for desktop navbar
        document.getElementById("all-top").classList.add("border-b-2", "border-black", "dark:border-white"); //for mobile navbar because ids are unique
    
        document.getElementById("t-shirts").classList.add("border-b-2", "border-black", "dark:border-white", "bg-gray-100", "dark:bg-gray-700"); //for desktop navbar
        document.getElementById("t-shirt").classList.add("border-b-2", "border-black", "dark:border-white");  //for mobile navbar because ids are unique
    
    </script>
    <script>
        // Fetch data from Google Sheets
        const SHEET_ID = '1xU9IJrBGzY40j1MkuXdMlyRMO3eFe-Xrxy7Y6LKuEsc';
        const SHEET_TITLE = 'products list';
        const SHEET_RANGE = 'A2:I'; // Fetch from column A to I
        const FULL_URL = `https://docs.google.com/spreadsheets/d/${SHEET_ID}/gviz/tq?sheet=${SHEET_TITLE}&range=${SHEET_RANGE}`;

        fetch(FULL_URL)
            .then(response => response.text())
            .then(data => {
                const jsonData = processJSONData(data);
                const container = document.getElementById('container');

                // Reverse the order of the rows
                const reversedData = jsonData.slice().reverse();

                // Filter and only display products whose category
                const product = reversedData.filter(product => product.category === 'T-Shirt');


                // Fetch data from Google Sheets and include the product.html file beacuse it handles it
                if (product.length === 0) {
                    const comingSoonElement = document.createElement('div');
                    comingSoonElement.textContent = 'Coming Soon';
                    container.appendChild(comingSoonElement);
                    return;
                }

                product.forEach(rowData => {
                    const cardHTML = createCardHTML(rowData);
                    const cardElement = createCardElement(cardHTML);
                    container.appendChild(cardElement);
                });
            })
            .catch(error => {
                console.error('Error fetching data:', error);
            });



        // Function to process JSON data and extract relevant fields
        function processJSONData(data) {
            const responseText = data.substring(data.indexOf('(', 0) + 1, data.lastIndexOf(')'));
            const jsonResponse = JSON.parse(responseText);

            if (jsonResponse && jsonResponse.status === 'ok' && jsonResponse.table && jsonResponse.table.rows) {
                return jsonResponse.table.rows.map(row => {
                    return {
                        name: row.c[1] ? row.c[1].v : '', // Map to the second column (B in spreadsheet, index 1)
                        image: row.c[2] ? row.c[2].v : '', // Map to the third column (C in spreadsheet, index 2)
                        description: row.c[3] ? row.c[3].v : '', // Map to the fourth column (D in spreadsheet, index 3)
                        category: row.c[4] ? row.c[4].v : '', // Map to the fifth column (E in spreadsheet, index 4)
                        size: row.c[5] ? row.c[5].v : '', // Map to the sixth column (F in spreadsheet, index 5)
                        color: row.c[6] ? row.c[6].v : '', // Map to the seventh column (G in spreadsheet, index 6)
                        price: row.c[7] ? row.c[7].v : '', // Map to the eighth column (H in spreadsheet, index 7)
                        lastUpdate: row.c[8] ? row.c[8].v : '' // Map to the ninth column (I in spreadsheet, index 8)
                    };
                });
            } else {
                return [];
            }
        }

        // Function to create an element from HTML
        function createCardElement(cardHTML) {
            const cardElement = document.createElement('div');
            cardElement.innerHTML = cardHTML;
            return cardElement;
        }

        // Function to create HTML for a product card
        function createCardHTML(data) {
            return `
            <div class="group">
                <div class="aspect-square overflow-hidden rounded-lg">
                    <img src="${data.image}" alt="${data.description}" class="h-full w-full object-cover object-center group-hover:brightness-75 duration-300">
                </div>
                <h3 class="mt-4 text-base font-semibold tracking-tight ">${data.name}</h3>
                <div class="flex items-center justify-between mt-1 opacity-80 text-base tracking-tight ">
                    <p>${data.color}</p>
                    <p>${data.size}</p>
                </div>
                <p class="font-semibold mt-1 opacity-80 text-base tracking-tight" >Rs ${data.price}</p>

            </div>
        `;
        }
    </script>
     <!-- footer starts here -->
<footer>
  <div class="mb-16 lg:mb-0 flex flex-col items-center justify-center py-4 text-sm text-gray-500 dark:text-gray-400">
      <p class="font-medium">“Get phhop’d Up and Own the Urban Jungle!”</p> 
      <p>Wholesale and Retail</p>
      <p class="mb-2">Kathmandu, Nepal</p>
      <p>© 2023 phhop. All rights reserved.</p>
  </div>
</footer>
<!-- footer ends here -->
</body>

</html>