<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>phhop</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
        integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body class="dark:bg-black dark:text-white relative">


    <!-- header starts here  -->
    <header class="h-auto sticky top-0 z-50 ">
        <nav class="border-gray-200 px-4 lg:px-6 py-3 bg-white dark:bg-black relative">
            <div class="lg:grid grid-cols-7 place-content-center lg:mx-auto lg:px-10">





                <div class="hidden col-span-3  justify-between items-center w-full lg:flex lg:w-auto" id="">
                    <ul class="flex flex-row flex-wrap gap-2">
                        <li id="homes">
                            <a href="index.html"
                                class="block py-2 px-3 text-base font-medium hover:bg-gray-100 dark:hover:bg-gray-700 duration-300 rounded-md">Home</a>
                        </li>
                        <li id="tops">
                            <a href="tops.html"
                                class="block py-2 px-3 text-base font-medium hover:bg-gray-100 dark:hover:bg-gray-700 duration-300 rounded-md">Tops</a>
                        </li>
                        <li id="bottoms">
                            <a href="bottoms.html"
                                class="block py-2 px-3 text-base font-medium hover:bg-gray-100 dark:hover:bg-gray-700 duration-300 rounded-md">Bottoms</a>
                        </li>
                        <li id="accessories">
                            <a href="accessories.html"
                                class="block py-2 px-3 text-base font-medium hover:bg-gray-100 dark:hover:bg-gray-700 duration-300 rounded-md">Accessories</a>
                        </li>
                        <li id="footwears">
                            <a href="footwears.html"
                                class="block py-2 px-3 text-base font-medium hover:bg-gray-100 dark:hover:bg-gray-700 duration-300 rounded-md">Footwears</a>
                        </li>

                    </ul>
                </div>

                <!-- website name / image -->
                <div class="grid place-content-center">
                    <a href="index.html" class="flex items-center w-fit">
                        <!-- <img src="https://flowbite.com/docs/images/logo.svg" class="mr-3 h-6 sm:h-9" alt="Flowbite Logo" /> -->
                        <span
                            class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">PHHOP SUPPLY</span>
                    </a>
                </div>

                 <!-- social media icons -->
          <div
          class="col-span-3 hidden lg:flex items-center justify-end space-x-4"
        >
          <!-- instagram  -->
          <div>
            <a
              href="https://www.instagram.com/phhopsupply/?igshid=MzMyNGUyNmU2YQ%3D%3D"
              class="relative flex h-10 w-10 text-2xl items-center justify-center rounded-full border-[.5px] border-[#e7e7e7] bg-[#f4f7ff] dark:text-black"
            >
              <i class="fa-brands fa-instagram"></i>
            </a>
          </div>

          <!-- tiktok  -->
          <div>
            <a
              href="https://l.instagram.com/?u=https%3A%2F%2Fwww.tiktok.com%2F%40phhopsupply%3F_t%3D8gv6UarQ4Qh%26_r%3D1&e=AT1LA7w_Mtd3_feOmJ4ukMsyvu1CPu5mn53RdLpjU79NAxIHbppQjR9m3ooN_Fjwh1AKrm5ffXJrCJRtzzpy8qG2UCCOYwr9p3wwM-SBNR_EJMnI20xQ46Cl_MFRt9TMQMBaRz3jrifY"
              class="relative flex h-10 w-10 text-xl items-center justify-center rounded-full border-[.5px] border-[#e7e7e7] bg-[#f4f7ff] dark:text-black"
            >
              <i class="fa-brands fa-tiktok"></i>
            </a>
          </div>

          <!--  whatsapp -->
          <div>
            <a
              href="https://api.whatsapp.com/message/GTPNJZ2HFMYCA1?autoload=1&app_absent=0"
              class="relative flex h-10 w-10 text-xl items-center justify-center rounded-full border-[.5px] border-[#e7e7e7] bg-[#f4f7ff] dark:text-black"
            >
              <i class="fa-brands fa-whatsapp"></i>
            </a>
          </div>

          <!--  viber -->
          <div>
            <a
              href="viber://add?number=9779702693095"
              class="relative flex h-10 w-10 text-xl items-center justify-center rounded-full border-[.5px] border-[#e7e7e7] bg-[#f4f7ff] dark:text-black"
            >
              <i class="fa-brands fa-viber"></i>
            </a>
          </div>
        </div>

        <!-- socail media dropdown for mobile -->
        <div class="absolute right-3 bottom-2 lg:hidden">
          <div class="relative text-left">
            <button type="button" class="text-xl p-2" id="menu-button">
              <svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path d="M17 9H7V7H17V9Z" fill="currentColor" />
                <path d="M7 13H17V11H7V13Z" fill="currentColor" />
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M2 18V2H22V18H16V22H14C11.7909 22 10 20.2091 10 18H2ZM12 16V18C12 19.1046 12.8954 20 14 20V16H20V4H4V16H12Z"
                  fill="currentColor"
                />
              </svg>
            </button>
          </div>

          <!-- Dropdown menu, initially hidden -->
          <div
            class="absolute right-0 z-10 mt-2 origin-top-right rounded-md bg-white dark:bg-gray-900 shadow-lg hidden"
          >
            <div class="p-1">
              <a
                href="https://www.instagram.com/phhopsupply/?igshid=MzMyNGUyNmU2YQ%3D%3D"
                class="block px-4 py-2 whitespace-nowrap space-x-3"
                ><span><i class="fa-brands fa-instagram"></i></span
                ><span>Instagram</span></a
              >
              <a
                href="https://l.instagram.com/?u=https%3A%2F%2Fwww.tiktok.com%2F%40phhopsupply%3F_t%3D8gv6UarQ4Qh%26_r%3D1&e=AT1LA7w_Mtd3_feOmJ4ukMsyvu1CPu5mn53RdLpjU79NAxIHbppQjR9m3ooN_Fjwh1AKrm5ffXJrCJRtzzpy8qG2UCCOYwr9p3wwM-SBNR_EJMnI20xQ46Cl_MFRt9TMQMBaRz3jrifY"
                class="block px-4 py-2 whitespace-nowrap space-x-3"
              >
                <span><i class="fa-brands fa-tiktok"></i></span
                ><span>TikTok</span></a
              >
              <a
                href="https://api.whatsapp.com/message/GTPNJZ2HFMYCA1?autoload=1&app_absent=0"
                class="block px-4 py-2 whitespace-nowrap space-x-3"
              >
                <span><i class="fa-brands fa-whatsapp"></i></span
                ><span>Whatsapp</span></a
              >
              <a
                href="viber://add?number=9779702693095"
                class="block px-4 py-2 whitespace-nowrap space-x-3"
                ><span><i class="fa-brands fa-viber"></i></span
                ><span>Viber</span></a
              >
            </div>
          </div>
        </div>

                <script>
                    document.addEventListener("DOMContentLoaded", function () {
                        // Get references to the button and the dropdown menu
                        const menuButton = document.getElementById("menu-button");
                        const dropdownMenu = document.querySelector(".absolute.right-0");

                        // Function to toggle the dropdown menu's visibility
                        function toggleDropdown() {
                            dropdownMenu.classList.toggle("hidden");
                        }

                        // Add a click event listener to the button
                        menuButton.addEventListener("click", toggleDropdown);

                        // Add a click event listener to close the dropdown when clicking outside of it
                        document.addEventListener("click", function (event) {
                            if (
                                !menuButton.contains(event.target) &&
                                !dropdownMenu.contains(event.target)
                            ) {
                                dropdownMenu.classList.add("hidden");
                            }
                        });
                    });
                </script>

            </div>
        </nav>
    </header>
    <!-- header ends here -->

    <!-- tops category -->
    <div
        class="fixed z-40 w-full px-4 lg:px-16 lg:mx-auto text-lg font-semibold flex items-center gap-3 bg-white dark:bg-black ">

        <ul class="flex items-center flex-wrap gap-2 border-b-2 border-gray-100 dark:border-gray-900 w-full">
            <p class="hidden lg:block">Tops&nbsp;Category&nbsp;:</p>
            <li id="all-tops">
                <a href="tops.html"
                    class="block py-2 px-3 text-base font-medium hover:bg-gray-100 dark:hover:bg-gray-700 duration-300 rounded-md">All</a>
            </li>
            <li id="t-shirts">
                <a href="tshirts.html"
                    class="block py-2 px-3 text-base font-medium hover:bg-gray-100 dark:hover:bg-gray-700 duration-300 rounded-md">T-Shirts</a>
            </li>
            <li id="shirts">
                <a href="shirts.html"
                    class="block py-2 px-3 text-base font-medium hover:bg-gray-100 dark:hover:bg-gray-700 duration-300 rounded-md">Shirts</a>
            </li>
            <li id="hoodies">
                <a href="hoodies.html"
                    class="block py-2 px-3 text-base font-medium hover:bg-gray-100 dark:hover:bg-gray-700 duration-300 rounded-md">Hoodies</a>
            </li>
        </ul>
    </div>
    <!-- tops category end -->

    <!-- main starts here -->
    <main class="w-full px-4 py-8 mb-12 mt-8 lg:mb-0 lg:px-16 lg:mx-auto">
        <div id="container"
            class="grid grid-cols-2 gap-x-4 gap-y-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 xl:gap-x-8"></div>
        <!-- This is where the fetched data will be displayed -->
    </main>
    <!-- main ends here -->


    <!-- this is for mobile navigation -->
    <nav
        class="lg:hidden fixed bottom-0 sm:bottom-4 left-1/2 z-50 w-full h-16 -translate-x-1/2 sm:max-w-lg bg-white dark:bg-black sm:rounded-full border-t-2 sm:border border-gray-200 dark:border-gray-900">
        <!-- bottom navigation -->
        <div class="py-2 px-4 sm:px-6 text-xs w-full h-full sm:max-w-lg dark:text-white ">
            <div class="grid grid-cols-5 gap-3">
                <div id="home">
                    <a href="index.html" class="flex flex-col justify-between items-center focus:outline-none  ">
                        <span class="text-xl"><i class="fa-solid fa-house-chimney"></i></span>
                        <span>Home</span>
                    </a>
                </div>
                <div id="all-top">
                    <a href="tops.html" class="flex flex-col justify-between items-center focus:outline-none  ">
                        <span class="text-xl"><i class="fa-solid fa-shirt"></i></span>
                        <span>Tops</span>
                    </a>
                </div>

                <div id="all-bottom">
                    <a href="bottoms.html" class="flex flex-col justify-between items-center focus:outline-none  ">
                        <svg fill="currentColor" height="28" width="28" version="1.1" id="Capa_1"
                            xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                            viewBox="-31.73 -31.73 592.37 592.37" xml:space="preserve">
                            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                            <g id="SVGRepo_iconCarrier">
                                <g>
                                    <g>
                                        <polygon
                                            points="256.807,322.161 256.807,80.874 130.188,80.874 0,413.493 186.507,496.144 ">
                                        </polygon>
                                        <path
                                            d="M272.107,210.526c43.25-23.103,46.16-81.843,46.982-125.793c0.027-1.533,0.453-2.8,1.1-3.859h-48.086v129.652H272.107z">
                                        </path>
                                        <path
                                            d="M333.439,80.874c0.605,1.056,0.982,2.323,0.951,3.859c-1,53.37-7.387,118.646-62.283,142.624v94.805l70.301,173.982 l186.506-82.65L398.727,80.874H333.439z">
                                        </path>
                                        <polygon
                                            points="398.865,32.771 130.05,32.771 130.05,68.092 256.807,68.092 272.107,68.092 398.865,68.092 ">
                                        </polygon>
                                    </g>
                                </g>
                            </g>
                        </svg>
                        <span>Bottoms</span>
                    </a>
                </div>
                <div id="accessorie">
                    <a href="accessories.html" class="flex flex-col justify-between items-center focus:outline-none  ">
                        <span class="text-xl"><i class="fa-solid fa-mitten"></i></span>

                        <span>Accessories</span>
                    </a>
                </div>

                <div id="footwear">
                    <a href="footwears.html" class="flex flex-col justify-between items-center focus:outline-none  ">
                        <span class="text-xl"><i class="fa-solid fa-socks"></i></span>
                        <span>Footwears</span>
                    </a>
                </div>

            </div>
        </div>
        <!-- bottom navigation end -->
    </nav>
    <!-- this is for mobile navigation ends here -->

    <!-- script to make the current page active in the header (Home) -->
    <script>
        document.getElementById("tops").classList.add("border-b-2", "border-black", "dark:border-white", "bg-gray-100", "dark:bg-gray-700");//for desktop navbar
        document.getElementById("all-top").classList.add("border-b-2", "border-black", "dark:border-white"); //for mobile navbar because ids are unique
    
        document.getElementById("shirts").classList.add("border-b-2", "border-black", "dark:border-white", "bg-gray-100", "dark:bg-gray-700"); //for desktop navbar
        document.getElementById("shirt").classList.add("border-b-2", "border-black", "dark:border-white"); //for mobile navbar because ids are unique
    
    </script>
    <script>
        // Fetch data from Google Sheets
        const SHEET_ID = '1xU9IJrBGzY40j1MkuXdMlyRMO3eFe-Xrxy7Y6LKuEsc';
        const SHEET_TITLE = 'products list';
        const SHEET_RANGE = 'A2:I'; // Fetch from column A to I
        const FULL_URL = `https://docs.google.com/spreadsheets/d/${SHEET_ID}/gviz/tq?sheet=${SHEET_TITLE}&range=${SHEET_RANGE}`;

        fetch(FULL_URL)
            .then(response => response.text())
            .then(data => {
                const jsonData = processJSONData(data);
                const container = document.getElementById('container');

                // Reverse the order of the rows
                const reversedData = jsonData.slice().reverse();

                // Filter and only display products whose category
                const product = reversedData.filter(product => product.category === 'Shirt');


                // Fetch data from Google Sheets and include the product.html file beacuse it handles it
                if (product.length === 0) {
                    const comingSoonElement = document.createElement('div');
                    comingSoonElement.textContent = 'Coming Soon';
                    container.appendChild(comingSoonElement);
                    return;
                }

                product.forEach(rowData => {
                    const cardHTML = createCardHTML(rowData);
                    const cardElement = createCardElement(cardHTML);
                    container.appendChild(cardElement);
                });
            })
            .catch(error => {
                console.error('Error fetching data:', error);
            });



        // Function to process JSON data and extract relevant fields
        function processJSONData(data) {
            const responseText = data.substring(data.indexOf('(', 0) + 1, data.lastIndexOf(')'));
            const jsonResponse = JSON.parse(responseText);

            if (jsonResponse && jsonResponse.status === 'ok' && jsonResponse.table && jsonResponse.table.rows) {
                return jsonResponse.table.rows.map(row => {
                    return {
                        name: row.c[1] ? row.c[1].v : '', // Map to the second column (B in spreadsheet, index 1)
                        image: row.c[2] ? row.c[2].v : '', // Map to the third column (C in spreadsheet, index 2)
                        description: row.c[3] ? row.c[3].v : '', // Map to the fourth column (D in spreadsheet, index 3)
                        category: row.c[4] ? row.c[4].v : '', // Map to the fifth column (E in spreadsheet, index 4)
                        size: row.c[5] ? row.c[5].v : '', // Map to the sixth column (F in spreadsheet, index 5)
                        color: row.c[6] ? row.c[6].v : '', // Map to the seventh column (G in spreadsheet, index 6)
                        price: row.c[7] ? row.c[7].v : '', // Map to the eighth column (H in spreadsheet, index 7)
                        lastUpdate: row.c[8] ? row.c[8].v : '' // Map to the ninth column (I in spreadsheet, index 8)
                    };
                });
            } else {
                return [];
            }
        }

        // Function to create an element from HTML
        function createCardElement(cardHTML) {
            const cardElement = document.createElement('div');
            cardElement.innerHTML = cardHTML;
            return cardElement;
        }

        // Function to create HTML for a product card
        function createCardHTML(data) {
            return `
            <div class="group">
                <div class="aspect-square overflow-hidden rounded-lg">
                    <img src="${data.image}" alt="${data.description}" class="h-full w-full object-cover object-center group-hover:brightness-75 duration-300">
                </div>
                <h3 class="mt-4 text-base">${data.name}</h3>
                <div class="flex items-center justify-between mt-1 opacity-80 text-base">
                    <p>${data.color}</p>
                    <p>${data.size}</p>
                    <p class="font-semibold" >Rs ${data.price}</p>
                </div>
            </div>
        `;
        }
    </script>
</body>

</html>